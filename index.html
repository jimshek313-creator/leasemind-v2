<!doctype html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LeaseMind AI Demo</title>

  <style>
    body { font-family: Arial, sans-serif; max-width: 680px; margin: auto; padding: 12px; }
    #box { border: 1px solid #ddd; border-radius: 12px; padding: 16px; }
    .msg { padding: 10px 12px; border-radius: 12px; margin: 8px 0; white-space: pre-wrap; }
    .user { text-align: right; background: #fafafa; }
    .assistant { text-align: left; background: #f2f2f2; }
    .row { display: flex; gap: 8px; margin-top: 12px; }
    input { flex: 1; padding: 10px; border-radius: 8px; border: 1px solid #ddd; }
    button { padding: 10px 14px; border-radius: 8px; border: 1px solid #ddd; background: white; cursor: pointer; }
  </style>
</head>

<body>
  <h2>LeaseMind · Monash Clayton AI Demo</h2>

  <div id="box"></div>

  <div class="row">
    <input id="inp" placeholder="例如：预算 280–320，Monash Clayton 单人间" />
    <button id="btn">发送</button>
  </div>

  <!-- ✅ 所有 JS 一定放在 body 最后 -->
  <script>
    console.log("✅ index.html script running");

    const box = document.getElementById("box");
    const inp = document.getElementById("inp");
    const btn = document.getElementById("btn");

    function add(role, text) {
      const div = document.createElement("div");
      div.className = "msg " + role;
      div.textContent = text;
      box.appendChild(div);
      box.scrollTop = box.scrollHeight;
    }

    add("assistant", "你好，我是 LeaseMind，可以帮你了解 Monash Clayton 附近的租房信息。");

    function fakeReply(text) {
      if (text.includes("280") || text.includes("300")) {
        return "在 Monash Clayton，280–320/周的单人间主要是 rooming house，步行或公交 10–20 分钟。";
      }
      return "可以的，请告诉我你的预算、是否需要 ensuite、以及到 Monash Clayton 的通勤偏好。";
    }

    function send() {
      const text = inp.value.trim();
      if (!text) return;
      inp.value = "";
      add("user", text);

      btn.disabled = true;
      setTimeout(() => {
        add("assistant", fakeReply(text));
        btn.disabled = false;
      }, 600);
    }

    btn.onclick = send;
    inp.addEventListener("keydown", e => {
      if (e.key === "Enter") send();
    });
  </script>
</body>
</html>
