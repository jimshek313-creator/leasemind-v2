<!doctype html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LeaseMind V2 Demo | AI Rental Concierge</title>
    <style>
      :root {
        --border: #e6e6e6;
        --text: #111;
        --muted: rgba(0,0,0,.65);
        --bg: #fff;
        --soft: #fafafa;
        --chip: #f3f3f3;
        --shadow: 0 8px 24px rgba(0,0,0,.06);
        --radius: 14px;
      }
      body {
        font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,"PingFang SC","Microsoft YaHei",sans-serif;
        color: var(--text);
        background: var(--bg);
        max-width: 980px;
        margin: 24px auto;
        padding: 0 14px 40px;
        line-height: 1.5;
      }
      .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        margin-bottom: 12px;
      }
      .badge {
        font-size: 12px;
        padding: 6px 10px;
        border: 1px solid var(--border);
        border-radius: 999px;
        background: #fff;
      }
      h1 {
        font-size: 26px;
        margin: 6px 0 6px;
        letter-spacing: -0.2px;
      }
      .sub {
        color: var(--muted);
        margin: 0 0 14px;
        font-size: 14px;
      }
      .grid {
        display: grid;
        grid-template-columns: 1.1fr 0.9fr;
        gap: 14px;
      }
      @media (max-width: 900px) {
        .grid { grid-template-columns: 1fr; }
      }
      .card {
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 16px;
        background: #fff;
        box-shadow: var(--shadow);
      }
      .card h2 {
        font-size: 15px;
        margin: 0 0 8px;
      }
      .card p, .card li {
        color: var(--muted);
        font-size: 14px;
      }
      .kpi {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin-top: 12px;
      }
      .kpi .box {
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 10px 10px;
        background: var(--soft);
      }
      .kpi .num {
        font-size: 16px;
        font-weight: 650;
        color: var(--text);
      }
      .kpi .lbl {
        font-size: 12px;
        color: var(--muted);
        margin-top: 4px;
      }
      .sep {
        height: 1px;
        background: var(--border);
        margin: 14px 0;
      }
      .chat {
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 14px;
        background: #fff;
        box-shadow: var(--shadow);
      }
      .chathead {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
      }
      .chathead .title {
        font-weight: 650;
        font-size: 14px;
      }
      .chathead .mini {
        color: var(--muted);
        font-size: 12px;
      }
      .msgs {
        max-height: 420px;
        overflow: auto;
        padding-right: 4px;
      }
      .msg {
        border: 1px solid var(--border);
        border-radius: 14px;
        padding: 10px 12px;
        margin: 8px 0;
        white-space: pre-wrap;
        background: #fff;
      }
      .msg.user {
        margin-left: auto;
        background: var(--soft);
        max-width: 92%;
      }
      .msg.ai {
        margin-right: auto;
        max-width: 92%;
      }
      .row {
        display: flex;
        gap: 8px;
        margin-top: 10px;
      }
      input {
        flex: 1;
        padding: 10px 12px;
        border-radius: 12px;
        border: 1px solid var(--border);
        outline: none;
      }
      button {
        padding: 10px 14px;
        border-radius: 12px;
        border: 1px solid var(--border);
        background: #fff;
        cursor: pointer;
      }
      button:hover { background: var(--soft); }
      button:disabled { opacity: .55; cursor: not-allowed; }
      .chips {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin-top: 10px;
      }
      .chip {
        font-size: 12px;
        padding: 8px 10px;
        border-radius: 999px;
        border: 1px solid var(--border);
        background: var(--chip);
        cursor: pointer;
      }
      .chip:hover { filter: brightness(0.98); }
      .cta {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-top: 10px;
      }
      .cta a {
        display: inline-block;
        text-decoration: none;
        color: var(--text);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 10px 12px;
        background: #fff;
      }
      .cta a:hover { background: var(--soft); }
      .foot {
        margin-top: 16px;
        color: var(--muted);
        font-size: 12px;
      }
      .tag {
        font-size: 12px;
        padding: 4px 8px;
        border-radius: 999px;
        border: 1px solid var(--border);
        background: #fff;
        margin-left: 6px;
      }
      .mono {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 12px;
        color: var(--muted);
      }
    </style>
  </head>

  <body>
    <div class="topbar">
      <div class="badge">V2 Demo Â· Investor Preview</div>
      <div class="badge">Monash Clayton Â· Student Housing</div>
    </div>

    <h1>LeaseMind â€“ ç•™å­¦ç”Ÿç§Ÿæˆ¿å†³ç­– AI åŠ©æ‰‹</h1>
    <p class="sub">
      å°†é›¶æ•£ã€é‡å¤çš„ç§Ÿæˆ¿é—®é¢˜ï¼Œè½¬åŒ–ä¸º <b>ç»“æ„åŒ–å†³ç­–å»ºè®®</b> ä¸ <b>å¯æ‰§è¡Œä¸‹ä¸€æ­¥</b>ï¼ˆçœ‹æˆ¿/ç•™èµ„/è·Ÿè¿›ï¼‰ã€‚
      <span class="tag">æœ¬é¡µä¸ºæœ¬åœ°æ¨¡æ‹Ÿ AIï¼Œä¸ä¾èµ– API</span>
    </p>

    <div class="grid">
      <!-- Left: Chat -->
      <div class="chat">
        <div class="chathead">
          <div>
            <div class="title">Live Demo Chat <span class="tag">Local AI Simulator</span></div>
            <div class="mini">è¾“å…¥éœ€æ±‚ â†’ AI è¡¥é—®å…³é”®ç‚¹ â†’ ç»™å‡ºå»ºè®®ä¸ä¸‹ä¸€æ­¥</div>
          </div>
          <div class="mini mono" id="mode">Mode: Demo</div>
        </div>

        <div class="msgs" id="msgs"></div>

        <div class="chips" id="chips"></div>

        <div class="row">
          <input
            id="inp"
            placeholder="è¯•è¯•ï¼šæˆ‘æƒ³åœ¨ Monash Clayton é™„è¿‘æ‰¾å•äººé—´ï¼Œé¢„ç®— 280â€“320/å‘¨ï¼Œä¸‹å‘¨å…¥ä½"
          />
          <button id="btn">å‘é€</button>
        </div>

        <div class="cta">
          <!-- ä½ æŠŠä¸‹é¢ä¸¤ä¸ªé“¾æ¥æ¢æˆä½ è‡ªå·±çš„ Google Form/WhatsApp/WeChat -->
          <a href="#" id="book">ğŸ“… é¢„çº¦çœ‹æˆ¿ï¼ˆDemoï¼‰</a>
          <a href="#" id="leave">ğŸ“© ç•™ä¸‹è”ç³»æ–¹å¼ï¼ˆDemoï¼‰</a>
        </div>

        <div class="foot">
          è¯´æ˜ï¼šæ­¤ç‰ˆæœ¬ç”¨äºæ¼”ç¤ºâ€œäº¤äº’é€»è¾‘ä¸æ–‡æ¡ˆè¡¨è¾¾â€ã€‚åç»­å¯æ— ç¼æ›¿æ¢ä¸ºçœŸå® LLMï¼ˆOpenAIï¼‰ä¸æˆ¿æºæ•°æ®ã€‚
        </div>
      </div>

      <!-- Right: Investor copy -->
      <div class="card">
        <h2>What does LeaseMind do?</h2>
        <p>
          LeaseMind is an AI rental concierge for international students.
          It sits <b>before listings and agents</b> â€” turning natural language needs into
          structured decisions and next actions.
        </p>

        <div class="sep"></div>

        <h2>The problem we solve</h2>
        <ul>
          <li><b>Information overload</b>ï¼šæˆ¿æºå¤šã€ä¿¡æ¯æ‚ã€å†³ç­–æˆæœ¬é«˜</li>
          <li><b>High friction</b>ï¼šåå¤æé—®ã€å“åº”æ…¢ã€è·Ÿè¿›æ–­å±‚</li>
          <li><b>No decision layer</b>ï¼šç¼ºå°‘æŠŠâ€œé—®é¢˜â€å˜æˆâ€œä¸‹ä¸€æ­¥â€çš„ç³»ç»Ÿ</li>
        </ul>

        <div class="sep"></div>

        <h2>What this demo validates</h2>
        <ul>
          <li>æ„å›¾è¯†åˆ«ï¼šé¢„ç®—/æˆ¿å‹/è·ç¦»/å…¥ä½æ—¶é—´</li>
          <li>æœ€å°è¡¥é—®ï¼šæœ€å¤š 3 ä¸ªå…³é”®é—®é¢˜</li>
          <li>è¡ŒåŠ¨å¼•å¯¼ï¼šçœ‹æˆ¿ã€ç•™èµ„ã€ç»§ç»­è¡¥å……ä¿¡æ¯</li>
        </ul>

        <div class="kpi">
          <div class="box">
            <div class="num">V2</div>
            <div class="lbl">äº’åŠ¨è·¯å¾„å¯æ¼”ç¤º</div>
          </div>
          <div class="box">
            <div class="num">â‰¤ 3</div>
            <div class="lbl">æœ€å°æ¾„æ¸…é—®é¢˜</div>
          </div>
          <div class="box">
            <div class="num">Next</div>
            <div class="lbl">é¢„çº¦ / ç•™èµ„ CTA</div>
          </div>
        </div>

        <div class="sep"></div>

        <h2>Next phase</h2>
        <p>
          Replace Local Simulator with real LLM + listings data:
          <br />â€¢ Live property database integration
          <br />â€¢ Inspection scheduling automation
          <br />â€¢ CRM workflow for agents / operators
          <br />â€¢ Expansion to multi-campus & cities
        </p>

        <div class="foot">
          LeaseMind Â© 2025 Â· For discussion and evaluation purposes only
        </div>
      </div>
    </div>

    <script>
      // ======= Local AI Simulator (no API, no JSON, no errors) =======
      const msgs = document.getElementById("msgs");
      const chips = document.getElementById("chips");
      const inp = document.getElementById("inp");
      const btn = document.getElementById("btn");
      const mode = document.getElementById("mode");
      const book = document.getElementById("book");
      const leave = document.getElementById("leave");

      // You can replace these with real links (Google Form, WhatsApp, WeChat, Calendly)
      const INSPECTION_URL = "#";
      const LEAD_URL = "#";
      book.href = INSPECTION_URL;
      leave.href = LEAD_URL;

      // Simple session state (no persistence)
      const state = {
        language: "zh", // "zh" | "en"
        needs: {
          suburb: "Clayton",
          near: "Monash University Clayton",
          roomType: null, // single/ensuite/twin/studio
          budgetMin: null,
          budgetMax: null,
          moveIn: null,
          lease: null
        },
        turn: 0
      };

      function add(role, text) {
        const div = document.createElement("div");
        div.className = "msg " + (role === "user" ? "user" : "ai");
        div.textContent = text;
        msgs.appendChild(div);
        msgs.scrollTop = msgs.scrollHeight;
      }

      function setChips(list) {
        chips.innerHTML = "";
        (list || []).forEach((t) => {
          const b = document.createElement("button");
          b.className = "chip";
          b.type = "button";
          b.textContent = t;
          b.onclick = () => send(t);
          chips.appendChild(b);
        });
      }

      function detectLanguage(text) {
        // if mostly ASCII letters -> EN
        const ascii = (text.match(/[A-Za-z]/g) || []).length;
        const han = (text.match(/[\u4e00-\u9fff]/g) || []).length;
        return ascii > han ? "en" : "zh";
      }

      function parseBudget(text) {
        // matches: 280-320, 280â€“320, $280-$320, 280 320
        const m = text
          .replace(/â€”/g, "-")
          .replace(/â€“/g, "-")
          .match(/(\d{2,4})\s*[-~]\s*(\d{2,4})/);
        if (m) return { min: Number(m[1]), max: Number(m[2]) };

        // single number: 300/week
        const m2 = text.match(/(\d{2,4})\s*(aud|a\$|\$)?\s*(\/?\s*week|\/?\s*w|æ¯å‘¨|\/å‘¨)?/i);
        if (m2) return { min: Number(m2[1]), max: Number(m2[1]) };

        return null;
      }

      function parseRoomType(text) {
        const t = text.toLowerCase();
        if (t.includes("ensuite") || text.includes("ç‹¬ç«‹å«æµ´") || text.includes("å¥—æˆ¿")) return "ensuite";
        if (t.includes("studio") || text.includes("å•é—´å…¬å¯“")) return "studio";
        if (t.includes("twin") || text.includes("åŒäººé—´")) return "twin";
        if (t.includes("single") || text.includes("å•äººé—´")) return "single";
        return null;
      }

      function parseMoveIn(text) {
        // Very simple: "ä¸‹å‘¨" / "æœ¬å‘¨" / date-like
        if (text.includes("ä¸‹å‘¨")) return "next_week";
        if (text.includes("æœ¬å‘¨") || text.includes("è¿™å‘¨")) return "this_week";
        const m = text.match(/(20\d{2})[\/\-\.](\d{1,2})[\/\-\.](\d{1,2})/);
        if (m) return `${m[1]}-${String(m[2]).padStart(2, "0")}-${String(m[3]).padStart(2, "0")}`;
        return null;
      }

      function maybeUpdateNeeds(userText) {
        state.language = detectLanguage(userText);
        mode.textContent = "Mode: Demo (" + (state.language === "zh" ? "ä¸­æ–‡" : "EN") + ")";

        const b = parseBudget(userText);
        if (b) {
          state.needs.budgetMin = b.min;
          state.needs.budgetMax = b.max;
        }

        const rt = parseRoomType(userText);
        if (rt) state.needs.roomType = rt;

        const mi = parseMoveIn(userText);
        if (mi) state.needs.moveIn = mi;

        // suburb hints
        const s = userText.toLowerCase();
        const suburbs = ["clayton", "oakleigh", "huntingdale", "notting hill", "mount waverley", "caulfield"];
        for (const sub of suburbs) {
          if (s.includes(sub)) {
            state.needs.suburb = sub.charAt(0).toUpperCase() + sub.slice(1);
            break;
          }
        }
      }

      function buildClarifyingQuestions() {
        const q = [];
        if (!state.needs.roomType) q.push(state.language === "zh" ? "ä½ æ›´æƒ³è¦å•äººé—´è¿˜æ˜¯ç‹¬ç«‹å«æµ´ï¼ˆEnsuiteï¼‰ï¼Ÿ" : "Do you prefer a single room or an ensuite?");
        if (!state.needs.budgetMin) q.push(state.language === "zh" ? "ä½ çš„é¢„ç®—å¤§æ¦‚æ˜¯æ¯å‘¨å¤šå°‘æ¾³å¸ï¼ˆAUD/weekï¼‰ï¼Ÿ" : "Whatâ€™s your weekly budget (AUD/week)?");
        if (!state.needs.moveIn) q.push(state.language === "zh" ? "ä½ å¸Œæœ›ä»€ä¹ˆæ—¶å€™å…¥ä½ï¼ˆä¾‹å¦‚ï¼šè¿™å‘¨/ä¸‹å‘¨/å…·ä½“æ—¥æœŸï¼‰ï¼Ÿ" : "When do you want to move in (this week / next week / a date)?");

        // keep <= 3
        return q.slice(0, 3);
      }

      function summaryLine() {
        const n = state.needs;
        const rtMapZh = { single: "å•äººé—´", ensuite: "ç‹¬ç«‹å«æµ´", twin: "åŒäººé—´", studio: "Studio", null: "æœªæŒ‡å®š" };
        const rtMapEn = { single: "single room", ensuite: "ensuite", twin: "twin room", studio: "studio", null: "unspecified" };

        const budget =
          n.budgetMin && n.budgetMax
            ? (state.language === "zh"
                ? `é¢„ç®—ï¼š$${n.budgetMin}â€“$${n.budgetMax}/å‘¨`
                : `Budget: $${n.budgetMin}â€“$${n.budgetMax}/week`)
            : (state.language === "zh" ? "é¢„ç®—ï¼šæœªå¡«å†™" : "Budget: not provided");

        const room =
          state.language === "zh"
            ? `æˆ¿å‹ï¼š${rtMapZh[n.roomType]}`
            : `Room type: ${rtMapEn[n.roomType]}`;

        const move =
          n.moveIn
            ? (state.language === "zh"
                ? `å…¥ä½ï¼š${n.moveIn === "next_week" ? "ä¸‹å‘¨" : n.moveIn === "this_week" ? "æœ¬å‘¨" : n.moveIn}`
                : `Move-in: ${n.moveIn === "next_week" ? "next week" : n.moveIn === "this_week" ? "this week" : n.moveIn}`)
            : (state.language === "zh" ? "å…¥ä½ï¼šæœªå¡«å†™" : "Move-in: not provided");

        const loc =
          state.language === "zh"
            ? `ä½ç½®ï¼š${n.suburb}ï¼ˆMonash Clayton å‘¨è¾¹ï¼‰`
            : `Location: ${n.suburb} (near Monash Clayton)`;

        return `${loc}\n${room}\n${budget}\n${move}`;
      }

      function buildAnswer() {
        const n = state.needs;
        const missing = buildClarifyingQuestions();

        if (state.language === "zh") {
          let head = "å¥½çš„ï¼Œæˆ‘ç†è§£ä½ çš„éœ€æ±‚äº†ã€‚æˆ‘å…ˆæŠŠä¿¡æ¯æ•´ç†æˆâ€œå¯å†³ç­–â€çš„æ ¼å¼ï¼š\n\n";
          let summary = summaryLine() + "\n\n";
          let guidance =
            "åŸºäº Monash Clayton å‘¨è¾¹å¸¸è§ç§Ÿæˆ¿å†³ç­–æµç¨‹ï¼Œæˆ‘å»ºè®®ä½ ä¸‹ä¸€æ­¥æŒ‰è¿™ä¸ªé¡ºåºï¼š\n" +
            "1) å…ˆç¡®è®¤æˆ¿å‹ï¼ˆå•äººé—´ vs ç‹¬ç«‹å«æµ´ï¼‰ä¸å…¥ä½æ—¶é—´\n" +
            "2) å†é”å®šæ­¥è¡Œ/å…¬äº¤é€šå‹¤æ¥å—èŒƒå›´\n" +
            "3) æœ€åè¿›å…¥çœ‹æˆ¿ä¸ç•™èµ„è·Ÿè¿›\n\n";

          if (missing.length) {
            let qs = "ä¸ºäº†æ›´ç²¾å‡†åŒ¹é…ï¼Œæˆ‘åªéœ€è¦ä½ è¡¥å…… 1â€“3 ä¸ªå…³é”®ä¿¡æ¯ï¼š\n";
            missing.forEach((x, i) => (qs += `${i + 1}) ${x}\n`));
            qs += "\nä½ å¯ä»¥ç›´æ¥å›å¤ç­”æ¡ˆï¼Œæˆ–è€…ç‚¹å‡»ä¸‹é¢çš„å¿«æ·é—®é¢˜ã€‚";
            return head + summary + guidance + qs;
          }

          return (
            head +
            summary +
            "å¤ªå¥½äº†ï¼Œä½ çš„ä¿¡æ¯å·²ç»è¶³å¤Ÿè¿›å…¥â€œçœ‹æˆ¿/æ¨èâ€é˜¶æ®µã€‚\n\n" +
            "ä¸‹ä¸€æ­¥æˆ‘å»ºè®®ï¼š\n" +
            "â€¢ ç‚¹å‡»ã€Œé¢„çº¦çœ‹æˆ¿ã€ï¼šå®‰æ’ open inspection æˆ–ç§çº¦\n" +
            "â€¢ æˆ–ç‚¹å‡»ã€Œç•™ä¸‹è”ç³»æ–¹å¼ã€ï¼šæˆ‘ä¼šæŠŠä½ çš„éœ€æ±‚æ•´ç†ç»™è¿è¥/é¡¾é—®è·Ÿè¿›\n"
          );
        } else {
          let head = "Got it. Here is your request in a decision-ready format:\n\n";
          let summary = summaryLine() + "\n\n";
          let guidance =
            "Suggested next steps:\n" +
            "1) Confirm room type (single vs ensuite) and move-in time\n" +
            "2) Define commute preference (walk/bus) and acceptable range\n" +
            "3) Proceed to inspection scheduling and follow-up\n\n";

          if (missing.length) {
            let qs = "To match more accurately, please answer up to 3 quick questions:\n";
            missing.forEach((x, i) => (qs += `${i + 1}) ${x}\n`));
            qs += "\nReply with your answers or click a quick prompt below.";
            return head + summary + guidance + qs;
          }

          return (
            head +
            summary +
            "Great â€” youâ€™re ready for inspection / shortlisting.\n\n" +
            "Next actions:\n" +
            "â€¢ Book an inspection\n" +
            "â€¢ Leave your contact for operator follow-up\n"
          );
        }
      }

      function defaultChips() {
        if (state.language === "zh") {
          return [
            "æˆ‘æƒ³è¦å•äººé—´ï¼ˆSingleï¼‰",
            "æˆ‘æ›´åå¥½ç‹¬ç«‹å«æµ´ï¼ˆEnsuiteï¼‰",
            "é¢„ç®— 280â€“320/å‘¨",
            "ä¸‹å‘¨å…¥ä½",
            "æ­¥è¡Œ 10 åˆ†é’Ÿå†…"
          ];
        }
        return [
          "Single room preferred",
          "Ensuite preferred",
          "Budget 280â€“320/week",
          "Move in next week",
          "Within 10-min walk"
        ];
      }

      async function send(text) {
        const t = (text || "").trim();
        if (!t) return;

        btn.disabled = true;
        add("user", t);

        // Update needs based on user input
        maybeUpdateNeeds(t);

        // Simulate thinking
        setTimeout(() => {
          const reply = buildAnswer();
          add("ai", reply);

          // Update chips with clarifying questions or defaults
          const qs = buildClarifyingQuestions();
          setChips(qs.length ? qs : defaultChips());

          btn.disabled = false;
          inp.focus();
        }, 350);
      }

      // Welcome
      add(
        "ai",
        "ä½ å¥½ï¼Œæˆ‘æ˜¯ LeaseMindã€‚\n\næˆ‘å¯ä»¥å¸®åŠ©ä½ æŠŠç§Ÿæˆ¿éœ€æ±‚å˜æˆæ¸…æ™°çš„å†³ç­–å»ºè®®ï¼šé¢„ç®—ã€æˆ¿å‹ã€è·ç¦»ã€å…¥ä½æ—¶é—´ï¼Œå¹¶ç»™å‡ºä¸‹ä¸€æ­¥ï¼ˆçœ‹æˆ¿/ç•™èµ„ï¼‰ã€‚\n\nè¯·ç›´æ¥å‘Šè¯‰æˆ‘ä½ çš„ç§Ÿæˆ¿éœ€æ±‚ã€‚"
      );
      setChips(defaultChips());

      btn.onclick = () => send(inp.value), (inp.value = "");
      btn.addEventListener("click", () => {
        const v = inp.value;
        inp.value = "";
        send(v);
      });

      inp.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          const v = inp.value;
          inp.value = "";
          send(v);
        }
      });
    </script>
  </body>
</html>
