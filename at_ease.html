<!doctype html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AT EASE – Demo V3</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 860px; margin: 24px auto; padding: 0 12px; }
    .box { border: 1px solid #ddd; border-radius: 12px; padding: 16px; }
    .msg { padding: 10px 12px; border: 1px solid #eee; border-radius: 12px; margin: 8px 0; white-space: pre-wrap; }
    .user { text-align: right; background: #fafafa; }
    .assistant { text-align: left; }
    .row { display: flex; gap: 8px; margin-top: 12px; }
    input { flex: 1; padding: 10px 12px; border-radius: 10px; border: 1px solid #ddd; }
    button { padding: 10px 14px; border-radius: 10px; border: 1px solid #ddd; background: white; cursor: pointer; }
    button:disabled { opacity: .6; cursor: not-allowed; }
    .hint { font-size: 13px; opacity: .7; margin-top: 8px; }
    a.back{display:inline-block;margin:10px 0;text-decoration:none;color:#2563eb;}
  </style>
</head>
<body>
  <a class="back" href="/">← 返回入口</a>
  <h1>AT EASE – 留学生租房决策 AI 助手（Demo V3）</h1>
  <p class="hint">把零散的租房问题，转化为清晰的决策建议与下一步行动（Demo 模拟回复）</p>

  <div class="box" id="chat"></div>

  <div class="row">
    <input id="inp" placeholder="试试输入：我想在 Monash Clayton 附近找单人间，预算 $280–$320/周，下周入住" />
    <button id="btn">发送</button>
  </div>

  <script>
    const chat = document.getElementById("chat");
    const inp = document.getElementById("inp");
    const btn = document.getElementById("btn");

    function add(role, text) {
      const div = document.createElement("div");
      div.className = "msg " + (role === "user" ? "user" : "assistant");
      div.textContent = text;
      chat.appendChild(div);
      window.scrollTo(0, document.body.scrollHeight);
    }

    add("assistant",
      "你好，我是 AT EASE 租房决策 AI 助手。\n\n你可以告诉我：预算、房型、入住时间、距离偏好。\n我会给出决策建议与下一步（例如预约看房/需要补充的信息）。\n\n（这是 Demo 模拟回复，用于展示产品逻辑）"
    );

    function send() {
      const text = inp.value.trim();
      if (!text) return;

      inp.value = "";
      btn.disabled = true;
      add("user", text);

      setTimeout(() => {
        add("assistant",
          "【Demo 模拟回复｜AT EASE】\n\n我已理解你的需求。\n\n下一步建议：\n1) 确认房型：Single / Ensuite\n2) 确认预算区间与是否含账单\n3) 确认入住时间与最短租期\n\n如果你愿意，我也可以把信息整理成“预约看房”所需的最小表单。"
        );
        btn.disabled = false;
        inp.focus();
      }, 600);
    }

    btn.onclick = send;
    inp.addEventListener("keydown", (e) => { if (e.key === "Enter") send(); });
  </script>
</body>
</html>
